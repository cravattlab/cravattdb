<table class="ui selectable celled table" [ngSwitch]="byPeptide">
    <template [ngSwitchWhen]="false">
        <thead>
            <tr>
                <th>Uniprot</th>
                <th>Symbol</th>
                <th colspan="2">Description</th>
                <th>Mean Ratio</th>
                <th class="center aligned" rowspan="2"><i class="area chart big icon"></i></th>
            </tr>
            <tr *ngIf="!collapsed">
                <th>Sequence</th>
                <th>Mass</th>
                <th>Charge</th>
                <th>Segment</th>
                <th>Ratio</th>
            </tr>
        </thead>
        <tbody *ngFor="let row of data | groupByProtein">
            <tr class="active">
                <td>{{ row.groupKey }}</td>
                <td>{{ row.symbol }}</td>
                <td colspan="2">{{ row.description }}</td>
                <td>{{ row.mean }}</td>
                <td></td>
            </tr>
            <template [ngIf]="!collapsed">
                <tr *ngFor="let group of row.columns">
                    <td *ngFor="let column of group.data">{{ column }}</td>
                    <td class="center aligned"><a [href]="'legacy/1/' + id + '/chromatogram/' + group.chromatogram[0]"><i class="area chart link icon"></i></a></td>
                </tr>
            </template>
        </tbody>
    </template>

    <template [ngSwitchWhen]="true">
        <thead>
            <tr>
                <th colspan="6">Sequence</th>
                <th>Mean Ratio</th>
            </tr>
            <tr *ngIf="!collapsed">
                <th>Uniprot</th>
                <th>Symbol</th>
                <th>Description</th>
                <th>Mass</th>
                <th>Charge</th>
                <th>Segment</th>
                <th>Ratio</th>
            </tr>
        </thead>
        <tbody *ngFor="let row of data | groupByPeptide">
            <tr class="active">
                <td colspan="6">{{ row.groupKey }}</td>
                <td>{{ row.mean }}</td>
            </tr>
            <template [ngIf]="!collapsed">
                <tr *ngFor="let group of row.value">
                    <td *ngFor="let column of group.data">{{ column }}</td>
                    <td class="center aligned"><a [href]="'legacy/1/' + id + '/chromatogram/' + group.chromatogram[0]"><i class="area chart link icon"></i></a></td>
                </tr>
            </template>
        </tbody>
    </template>
</table>